import{X as o}from"./xe-utils-CkIl7JsB.js";import{D as B}from"./dom-zindex-DlWB42XF.js";import{i as G,b as W,J as Z,K as J,l as K}from"./@vue-kKykbxn7.js";const q="4.0.35",f={coreVersion:q,uiVersion:"",tableVersion:""},d={size:"",version:1,zIndex:999,resizeInterval:500},F={theme:""};function P(t){const e=!t||t==="default"?"light":t;if(F.theme=e,typeof document<"u"){const n=document.documentElement;n&&n.setAttribute("data-vxe-ui-theme",e)}return f}function Y(){return F.theme}function Q(t){return t&&(t.zIndex&&B.setCurrent(t.zIndex),t.theme&&P(t.theme),o.merge(d,t)),f}function ee(t,e){return arguments.length?o.get(d,t,e):d}const te={},S={};function ne(t){return t&&Object.assign(S,t),f}function se(t){return arguments.length?o.get(S,t):S}const u={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},A=o.browse(),j={" ":"Spacebar",Apps:u.CONTEXT_MENU,Del:u.DELETE,Up:u.ARROW_UP,Down:u.ARROW_DOWN,Left:u.ARROW_LEFT,Right:u.ARROW_RIGHT},_=A.firefox?"DOMMouseScroll":"mousewheel",M=[];function a(t){const e=t.type===_;M.forEach(({type:n,cb:s})=>{t.cancelBubble||(n===t.type||e&&n==="mousewheel")&&s(t)})}class oe{constructor(e,n,s){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=e,e&&(e.type&&(this.type=e.type),e.key&&(this.key=e.key),e.code&&(this.code=e.code)),Object.assign(this,n,s)}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}const re=(t,e,n)=>new oe(t,e,n),ie={on(t,e,n){M.push({comp:t,type:e,cb:n})},off(t,e){o.remove(M,n=>n.comp===t&&n.type===e)},hasKey(t,e){const{key:n}=t;return e=e.toLowerCase(),n?e===n.toLowerCase()||!!(j[n]&&j[n].toLowerCase()===e):!1}};A.isDoc&&(A.msie||(window.addEventListener("copy",a,!1),window.addEventListener("cut",a,!1),window.addEventListener("paste",a,!1)),document.addEventListener("keydown",a,!1),document.addEventListener("contextmenu",a,!1),window.addEventListener("mousedown",a,!1),window.addEventListener("blur",a,!1),window.addEventListener("resize",a,!1),window.addEventListener(_,o.throttle(a,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let T;const l=[],ae=500;function ce(){l.length&&(l.forEach(t=>{t.tarList.forEach(e=>{const{target:n,width:s,heighe:r}=e,v=n.clientWidth,c=n.clientHeight;(v&&s!==v||c&&r!==c)&&(e.width=v,e.heighe=c,setTimeout(t.callback))})}),N())}function N(){clearTimeout(T),T=setTimeout(ce,d.resizeInterval||ae)}class ue{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:n}=this;n.some(s=>s.target===e)||n.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),l.length||N(),l.some(s=>s===this)||l.push(this)}}unobserve(e){o.remove(l,n=>n.tarList.some(s=>s.target===e))}disconnect(){o.remove(l,e=>e===this)}}const le={create(t){return window.ResizeObserver?new window.ResizeObserver(t):new ue(t)}},E=G({language:"",langMaps:{}});let z=!1;function $(t,e){const{langMaps:n,language:s}=E,{i18n:r}=d;return r?`${r(t,e)||""}`:(z||(n[s]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${f.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),z=!0),o.toFormatString(o.get(n[s],t,t),e))}function fe(t){return E.language=t||"zh-CN",f}function he(t,e){return E.langMaps[t]=Object.assign({},e),f}function de(t){const{langMaps:e}=E;return!!e[t]}function ge(){const{language:t}=E;return t}function R(t,e){return function(n,s){const r=`[vxe ${e||""}] ${$(n,s)}`;return console[t](r),r}}const D="4.0.35",me={create:R,warn:R("warn",`v${D}`),err:R("error",`v${D}`)},m={},h={mixin(t){return o.each(t,(e,n)=>h.add(n,e)),h},get(t){return m[t]||null},add(t,e){if(t&&e){const n=m[t];n?Object.assign(n,e):m[t]=e}return h},forEach(t){return o.objectEach(m,t),h},delete(t){return delete m[t],h}};class U{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return o.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return this.store[e]=s?o.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){o.objectEach(this.store,e)}}const be=new U;class pe{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return o.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return o.isFunction(n)&&(n={menuMethod:n}),this.store[e]=s?o.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){o.objectEach(this.store,e)}}const Ee=new pe;class ve{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return o.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return o.isFunction(n)&&(n={cellFormatMethod:n}),this.store[e]=s?o.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){o.objectEach(this.store,e)}}const we=new ve;class xe{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return o.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return o.isFunction(n)&&(n={commandMethod:n}),this.store[e]=s?o.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){o.objectEach(this.store,e)}}const Oe=new xe,b={},O={mixin(t){return o.each(t,(e,n)=>{O.add(n,e)}),O},get(t){return b[t]||[]},add(t,e){o.isFunction(e)&&(e={tableInterceptorMethod:e});const n=e.tableInterceptorMethod;if(n){let s=b[t];s||(s=b[t]=[]),s.push(n)}return O},delete(t,e){const n=b[t];if(n){o.isFunction(e)&&(e={tableInterceptorMethod:e});const s=e?e.tableInterceptorMethod:null;s?o.remove(n,r=>r===s):delete b[t]}}};let i;const p={text:"",html:""};function Ie(t){if(!i){i=document.createElement("textarea"),i.id="$VxeCopy";const e=i.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(i)}i.value=t}const Le={getStore(){return p},setStore(t){Object.assign(p,t||{})},copy(t){let e=!1;try{const n=o.toValueString(t);Ie(n),i.select(),i.setSelectionRange(0,i.value.length),e=document.execCommand("copy"),i.blur(),p.text=n,p.html=""}catch{}return e},getText(){return p.text||""}};function I(t,e){let n=!0,s=!1;const r=e||d.permissionMethod;if(t&&r){n=!1,s=!0;let c=!1,w=!1;const L=String(t).split("|");for(let C=0;C<L.length;C++){const H=L[C];let x=!0,y=!1;const g=r({code:H});if(o.isBoolean(g)?x=g:g&&(x=!!g.visible,y=!!g.disabled),!y&&!w&&(w=!0,s=y),x&&!c&&(c=!0,n=x),c&&w)break}}return{code:t,visible:n,disabled:s}}const Ce={getCheckInfo(t){return I(t)},checkVisible(t){return I(t).visible},checkDisable(t){return I(t).disabled}},ye=new U;function Re(t){const e=Z("xeSizeInfo",null),n=W(()=>t.size||(e?e.value:null));return J("xeSizeInfo",n),{computeSize:n}}function Se(t){return{computePermissionInfo:W(()=>I(t.permissionCode,t.permissionMethod))}}const Ae={useSize:Re,usePermission:Se},k=[];function Me(t,e){return t&&t.install&&k.indexOf(t)===-1&&(t.install(V,e),k.push(t)),V}const X={};function Pe(t){return X[t]||null}function je(t){t&&t.name&&(X[t.name]=t)}function Te(){return K()}const V=Object.assign(f,{renderEmptyElement:Te,setTheme:P,getTheme:Y,setConfig:Q,getConfig:ee,setIcon:ne,getIcon:se,setLanguage:fe,hasLanguage:de,getLanguage:ge,setI18n:he,getI18n:$,globalEvents:ie,GLOBAL_EVENT_KEYS:u,createEvent:re,globalResize:le,renderer:h,validators:be,menus:Ee,formats:we,commands:Oe,interceptor:O,clipboard:Le,log:me,permission:Ce,globalStore:te,hooks:ye,component:je,getComponent:Pe,useFns:Ae,use:Me});P();export{Y as A,te as B,I as C,de as D,ye as E,O as F,u as G,Ee as H,Me as I,Ae as J,V,ne as a,se as b,re as c,Se as d,ie as e,$ as f,ee as g,h,le as i,he as j,fe as k,me as l,P as m,f as n,Le as o,Ce as p,Oe as q,Te as r,Q as s,je as t,Re as u,be as v,q as w,we as x,Pe as y,ge as z};
